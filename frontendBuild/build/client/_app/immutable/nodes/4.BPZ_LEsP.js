import"../chunks/Bzak7iHL.js";import{i as A}from"../chunks/CJLlioOO.js";import{o as E}from"../chunks/CnBhPSvY.js";import{p as z,f as D,s as n,a as J,t as x,b,c as M,d as o,g as c,m as N,r,e as O}from"../chunks/D8DXxAzd.js";import{s as w}from"../chunks/BKyUyGuO.js";import{e as R,i as U}from"../chunks/BS0-grPP.js";import{b as m,m as _}from"../chunks/D57XXReZ.js";var q=D("<p> </p>"),B=D('<title>Admin Dashboard</title> <h1 class="text-[3rem] text-center"><strong>Admin Dashboard</strong></h1> <div class="bg-(--grey) w-[75%] h-fit m-auto rounded-[15px] grid grid-auto p-[2%]"><div class="m-auto size-fit p-[2%]] flex flex-col text-center text-[1.5rem]"><p class="text-[3rem]">Leaderboard</p> <!></div> <div><p class="text-[3rem] text-center mt-[2%]">Logs</p> <div id="logbox" class="bg-(--black) p-[2%] m-auto rounded-[15px] text-center"> </div></div></div>',1);function T(I,L){z(L,!1);var i=["Logs will appear here!"];function S(){new EventSource(m+"/logs").addEventListener("newLogs",$),console.log("added event listener")}function $(s){let t=JSON.parse(s.data);for(let e=0;e<t.length;e++)i.push(t[e]);console.log(i)}async function y(){let s="";const t=localStorage.getItem("sessionID");t!==null&&(s=t);let e=await fetch(m+"/check",{headers:{sessionID:s}});if(e.status==403){let a=await e.json();console.log(a),_(`/?msg=${a.message}`)}}let g=N([]);async function p(){let s="";const t=localStorage.getItem("sessionID");t!==null&&(s=t);const e=await fetch(m+"/baltop",{headers:{sessionID:s}});if(e.status==403||e.status==401){let d=await e.json();_(`/?msg=${d.message}`)}e.status!=200&&console.log(await e.text());const a=await e.json();O(g,a)}E(()=>{y(),p(),S(),setInterval(p,3e3)}),A();var f=B(),v=n(J(f),4),l=o(v),j=n(o(l),2);R(j,1,()=>c(g),U,(s,t,e)=>{var a=q(),d=o(a);r(a),x(()=>w(d,`${e+1}) ${c(t).username??""} = $${c(t).balance??""}`)),b(s,a)}),r(l);var u=n(l,2),h=n(o(u),2),k=o(h,!0);r(h),r(u),r(v),x(()=>w(k,i)),b(I,f),M()}export{T as component};
