import{f as M,a as S}from"../chunks/Sor4jvVG.js";import"../chunks/B43jTLGB.js";import{o as K}from"../chunks/nXpV3QGw.js";import{p as Q,f as R,i as z,j as U,s as n,m as b,k as l,l as c,r as i,g as r}from"../chunks/DaofkxM2.js";import{s as f}from"../chunks/_BXhOvpT.js";import{e as V,i as X}from"../chunks/Bmp1HgW0.js";import{e as C}from"../chunks/C5IreSFR.js";import{i as Y}from"../chunks/BRYU3mTP.js";var Z=M("<p> </p>"),tt=M('<h1 class="pt-[2%] m-auto text-center text-[3rem]">Welcome <strong> </strong>, you currently have <strong> </strong></h1> <title>Home</title> <div id="links" class="bg-[#bbbbbb] dark:bg-[#3c3c3c] m-auto size-fit p-[2%] dark:rounded-[15px] flex flex-col text-center text-[1.5rem]"><a href="/games/slots">Slot Machine</a> <a href="/games/blackjack">Blackjack</a>  <button type="button" class="text-(--red) bg-transparent border-none cursor-pointer hover:underline hover:decoration-wavy hover:decoration-(--blue)">Logout</button></div> <p class="m-auto mt-[3%] size-fit text-center text-[1.5rem]" id="msg"> </p> <button class="bg-[#bbbbbb] border-[2px solid #bbbbbb] dark:bg-[#4c4c4c] border-2 border-solid dark:border-[#4c4c4c] border-[#bbbbbb] transition duration-500 hover:bg-[#fbfbfb] dark:hover:bg-[#1c1c1c] m-auto size-fit p-[2%] dark:rounded-[15px] flex flex-col text-center text-[1.5rem]"> </button> <div class="m-auto mt-[5%] size-fit p-[2%]] flex flex-col text-center text-[1.5rem]"><p class="text-[2rem]">Leaderboard</p> <!></div>',1);function it(B,H){Q(H,!1);let y=b("person"),d=b(0),m=b("Collect $100"),g=b(""),I=b([]);async function T(){let a="";const s=localStorage.getItem("sessionID");s!==null&&(a=s);let t=await fetch("https://cs.catlin.edu/node/2025/blaze/user",{headers:{sessionID:a}});if(t.status==403||t.status==401){let o=await t.json();window.location.href=`/?msg=${o.message}`}t.status!=200&&console.log(await t.text);let e=await t.json();if(n(y,e.username),n(d,e.balance),t=await fetch("https://cs.catlin.edu/node/2025/blaze/baltop",{headers:{sessionID:a}}),t.status==403||t.status==401){let o=await t.json();window.location.href=`/?msg=${o.message}`}t.status!=200&&console.log(await t.text),e=await t.json(),n(I,e)}async function E(){let a="";const s=localStorage.getItem("sessionID");s!==null&&(a=s);const t=JSON.stringify({balance:r(d)}),o=await fetch("https://cs.catlin.edu/node/2025/blaze/updateuser",{method:"POST",body:t,headers:{"Content-Type":"application/json",sessionID:a}});if(o.status==403||o.status==401){let G=await o.json();window.location.href=`/?msg=${G.message}`}const j=await o.json();(o.status==403||o.status==401)&&(window.location.href=`/?msg=${j.message}`),console.log(j.message)}function L(){localStorage.removeItem("sessionID"),window.location.href="/"}function h(a){let s=a/1e3;const t=s/60;return s=s%60,`${Math.round(t)}m & ${Math.round(s)}s`}var u=0;async function N(){let a="";const s=localStorage.getItem("sessionID");s!==null&&(a=s);let t=await fetch("https://cs.catlin.edu/node/2025/blaze/collect",{headers:{sessionID:a}});const e=await t.json(),o=document.getElementById("msg");t.ok?(n(d,r(d)+100),E(),n(g,e.message),o&&(o.style.color="green"),u=e.cooldown,n(m,`Cooldown: ${h(e.cooldown)}`)):((t.status==403||t.status==401)&&(window.location.href=`/?msg=${e.message}`),n(g,e.message),o&&(o.style.color="#ee2c2c"),u=e.cooldown,n(m,`Cooldown: ${h(e.cooldown)}`))}function O(){u>0?(u-=1e3,n(m,`Cooldown: ${h(u)}`)):(n(g,""),n(m,"Collect $100"))}setInterval(()=>{O()},1e3),K(()=>{T()}),Y();var k=tt(),v=R(k),w=l(c(v)),J=c(w,!0);i(w);var _=l(w,2),P=c(_);i(_),i(v);var x=l(v,4),W=l(c(x),4);i(x);var $=l(x,2),q=c($,!0);i($);var p=l($,2),A=c(p,!0);i(p);var D=l(p,2),F=l(c(D),2);V(F,1,()=>r(I),X,(a,s,t)=>{var e=Z(),o=c(e);i(e),z(()=>f(o,`${t+1}) ${r(s).username??""} = $${r(s).balance??""}`)),S(a,e)}),i(D),z(()=>{f(J,r(y)),f(P,`$${r(d)??""}`),f(q,r(g)),f(A,r(m))}),C("click",W,L),C("click",p,N),S(B,k),U()}export{it as component};
