import{f as j,a as B}from"../chunks/CMSUbqet.js";import{i as C}from"../chunks/B95i4mGz.js";import{o as D}from"../chunks/DdWudD2G.js";import{p as H,j as r,i as s,s as o,f as T,t as A,e as J,m as f,g as w,r as $,av as M}from"../chunks/B4Cajtny.js";import{s as N}from"../chunks/h_Xj-A1A.js";import{s as R,r as k}from"../chunks/B6kgN4UT.js";import{e as U}from"../chunks/CLbQlhD4.js";import{b as I}from"../chunks/B3sxkL33.js";import{s as W,a as q}from"../chunks/CZTSBcpv.js";import{s as F}from"../chunks/BnIv2U4c.js";import{m as P,u as G}from"../chunks/w2IH8YCb.js";const K=()=>{const a=F;return{page:{subscribe:a.page.subscribe},navigating:{subscribe:a.navigating.subscribe},updated:a.updated}},Q={subscribe(a){return K().page.subscribe(a)}};var V=j(`<title>Login</title> <div id="bigdiv" class="m-auto mt-[10%] bg-[#bbb] dark:bg-[#3c3c3c] shadow-[0_0_50px_15px_#34adfe] rounded-[10%] size-fit p-[5%] text-center flex flex-col gap-5"><h1 class="text-[3rem] m-0">Login</h1> <p class="text-[1.5rem]" id="msg"> </p> <input type="text" placeholder="Username" class="svelte-hzmrex"/> <input type="password" placeholder="Password" class="svelte-hzmrex"/> <button id="submit" class="text-[1.5rem] bg-[#ccc] dark:bg-[#4c4c4c] hover:shadow-[0_0_10px_5px_#34adfe] border-solid border-2 border-(--white) rounded-[5px] dark:text-(--white) text-(--black) m-auto p-[3%]">Login</button> <a class="text-[1.5rem]">Or Create a new Account</a></div> <h1 class="text-center mt-[5%] text-[1.5rem]">Welcome to my site! <br/>Please create an account of your're new.</h1>`,1);function me(a,b){H(b,!1);const[z,E]=q(),L=()=>W(Q,"$page",z);let i=f(""),c=f(""),n=f(""),m="#ee2c2c",e=L().url.searchParams;e.has("msg")&&r(n,e.get("msg")??s(n)),e.has("color")&&(m=e.get("color")??m),e.has("user")&&e.has("pass")&&(r(i,e.get("user")??s(i)),r(c,e.get("pass")??s(c)),h()),D(()=>{const t=document.getElementById("msg");t&&(t.style.color=m)});async function h(){r(n,"Loading...");let t=JSON.stringify({username:s(i),password:s(c)});const u=await fetch("https://cs.catlin.edu/node/2025/blaze/auth",{method:"POST",body:t,headers:{"Content-Type":"application/json"}}),g=await u.json();if(g.correct)localStorage.setItem("sessionID",g.sessionID),console.log(u.status),u.status==209&&P("/admin"),P("/home");else{const y=document.getElementById("msg");y&&(y.style.color="#ee2c2c"),r(n,g.message)}}C();var x=V(),v=o(T(x),2),l=o(w(v),2),O=w(l,!0);$(l);var p=o(l,2);k(p);var d=o(p,2);k(d);var _=o(d,2),S=o(_,2);R(S,"href",`${G}/new`),$(v),M(2),A(()=>N(O,s(n))),I(p,()=>s(i),t=>r(i,t)),I(d,()=>s(c),t=>r(c,t)),U("click",_,h),B(a,x),J(),E()}export{me as component};
