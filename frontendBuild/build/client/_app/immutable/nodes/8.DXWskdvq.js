import"../chunks/Bzak7iHL.js";import{i as k}from"../chunks/CJLlioOO.js";import{p as z,f as C,s as n,a as S,t as T,g as e,b as U,c as $,d as h,e as s,m as p,r as g}from"../chunks/D8DXxAzd.js";import{s as L}from"../chunks/BKyUyGuO.js";import{r as b,s as N}from"../chunks/Db-KANGB.js";import{e as Y}from"../chunks/0VhW8u6o.js";import{b as x}from"../chunks/7L7bas56.js";import{u as j,b as E,m as H}from"../chunks/CaaIM6H6.js";var I=C('<title>New Account</title> <div id="bigdiv" class="m-auto mt-[10%] bg-[#3c3c3c] shadow-[0_0_50px_15px_#34adfe] rounded-[10%] size-fit p-[5%] text-center flex flex-col gap-5"><h1 class="text-[3rem] m-0">Create an Account</h1> <p class="text-[#ee2c2c] text-[1.5rem]"> </p> <input type="text" placeholder="Username" class="svelte-hzmrex"/> <input type="password" placeholder="Password" class="svelte-hzmrex"/> <button id="submit" class="text-[1.5rem] bg-[#4c4c4c] hover:shadow-[0_0_10px_5px_#34adfe] border-solid border-2 border-(--white) rounded-[5px] text-(--white) m-auto p-[3%]">Create Account</button> <a class="text-[1.5rem]">Or Log in</a></div>',1);function M(v,_){z(_,!1);let t=p(""),a=p(""),r=p("");async function w(){if(s(r,"Loading..."),e(t).includes(" ")||e(a).includes(" ")){s(r,"Please do not include spaces in your username or password.");return}else if(e(t).length<4||e(t).length>15){s(r,"Your username must be 4-15 characters long");return}else if(e(a).length<4||e(t).length>15){s(r,"Your password must be 4-15 characters long");return}let o=JSON.stringify({username:e(t),password:e(a),ip:await fetch("https://api.ipify.org").then(O=>O.text())}),A={"Content-Type":"application/json"};console.log(o);let f=await fetch(E+"/adduser",{method:"POST",body:o,headers:A});f.status==200?H(`/?msg=Account created. Please log in&color=lawngreen&user=${e(t)}&password=${e(a)}`):f.status==400?s(r,"Username Taken. Please choose another"):s(r,"Internal Server Error. Please try again later.")}k();var d=I(),m=n(S(d),2),i=n(h(m),2),y=h(i,!0);g(i);var l=n(i,2);b(l);var c=n(l,2);b(c);var u=n(c,2),P=n(u,2);g(m),T(()=>{L(y,e(r)),N(P,"href",`${j}/`)}),x(l,()=>e(t),o=>s(t,o)),x(c,()=>e(a),o=>s(a,o)),Y("click",u,w),U(v,d),$()}export{M as component};
