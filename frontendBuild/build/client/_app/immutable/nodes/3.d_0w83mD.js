import{f as P,a as S}from"../chunks/C6EFBxso.js";import"../chunks/BBB0d4XK.js";import{o as C}from"../chunks/RfSOChAB.js";import{p as D,s as r,g as t,l as a,i as E,j as H,k as T,m as u,o as _,r as x}from"../chunks/Gy7_sNZd.js";import{s as A}from"../chunks/B3Q0I3Mm.js";import{s as B,u as J,r as y,m as M}from"../chunks/CSGXa3j2.js";import{e as N}from"../chunks/BZjFAepe.js";import{b as w}from"../chunks/1T0YsbOg.js";import{i as R}from"../chunks/D2ejAJ-1.js";import{s as U,a as q}from"../chunks/3YNbJDkD.js";import{s as F}from"../chunks/B5QbchK4.js";const G=()=>{const s=F;return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},updated:s.updated}},K={subscribe(s){return G().page.subscribe(s)}};var Q=P('<title>Login</title> <div id="bigdiv" class="m-auto mt-[10%] bg-[#bbb] dark:bg-[#3c3c3c] shadow-[0_0_50px_15px_#34adfe] dark:rounded-[10%] size-fit p-[5%] text-center flex flex-col gap-5"><h1 class="text-[3rem] m-0">Login</h1> <p class="text-[1.5rem]" id="msg"> </p> <input type="text" placeholder="Username" class="svelte-hzmrex"/> <input type="password" placeholder="Password" class="svelte-hzmrex"/> <button id="submit" class="text-[1.5rem] bg-[#ccc] dark:bg-[#4c4c4c] hover:shadow-[0_0_10px_5px_#34adfe] border-solid border-2 border-(--white) dark:rounded-[5px] dark:text-(--white) text-(--black) m-auto p-[3%]">Login</button> <a class="text-[1.5rem]">Or Create a new Account</a></div>',1);function ne(s,b){D(b,!1);const[k,$]=q(),j=()=>U(K,"$page",k);let n=u(""),c=u(""),o=u(""),m="#ee2c2c",i=j().url.searchParams;i.has("msg")&&r(o,i.get("msg")??t(o)),i.has("color")&&(m=i.get("color")??m),C(()=>{const e=document.getElementById("msg");e&&(e.style.color=m)});async function z(){r(o,"Loading...");let e=JSON.stringify({username:t(n),password:t(c)});const O=await fetch("https://cs.catlin.edu/node/2025/blaze/auth",{method:"POST",body:e,headers:{"Content-Type":"application/json"}});console.log("got response");const g=await O.json();console.log("got json"),g.correct?(localStorage.setItem("sessionID",g.sessionID),M("/home")):r(o,g.message)}R();var f=Q(),h=a(E(f),2),p=a(_(h),2),I=_(p,!0);x(p);var l=a(p,2);y(l);var d=a(l,2);y(d);var v=a(d,2),L=a(v,2);B(L,"href",`${J}/new`),x(h),H(()=>A(I,t(o))),w(l,()=>t(n),e=>r(n,e)),w(d,()=>t(c),e=>r(c,e)),N("click",v,z),S(s,f),T(),$()}export{ne as component};
