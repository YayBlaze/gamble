import{f as j,a as B}from"../chunks/Bv_MF2T9.js";import{i as C}from"../chunks/B7G9GnK2.js";import{o as D}from"../chunks/mPMG23MA.js";import{p as H,g as r,j as t,s as o,f as T,t as A,e as J,m as f,i as w,r as $}from"../chunks/CVFPUIRL.js";import{s as M}from"../chunks/BCmYL_-M.js";import{s as N,r as k}from"../chunks/DfhxyRTw.js";import{e as R}from"../chunks/DokIQ6PN.js";import{b as I}from"../chunks/C-oXEmtp.js";import{s as U,a as q}from"../chunks/96NNV9iI.js";import{s as F}from"../chunks/B4OLcQnX.js";import{m as z,u as G}from"../chunks/w2IH8YCb.js";const K=()=>{const a=F;return{page:{subscribe:a.page.subscribe},navigating:{subscribe:a.navigating.subscribe},updated:a.updated}},Q={subscribe(a){return K().page.subscribe(a)}};var V=j('<title>Login</title> <div id="bigdiv" class="m-auto mt-[10%] bg-[#bbb] dark:bg-[#3c3c3c] shadow-[0_0_50px_15px_#34adfe] rounded-[10%] size-fit p-[5%] text-center flex flex-col gap-5"><h1 class="text-[3rem] m-0">Login</h1> <p class="text-[1.5rem]" id="msg"> </p> <input type="text" placeholder="Username" class="svelte-hzmrex"/> <input type="password" placeholder="Password" class="svelte-hzmrex"/> <button id="submit" class="text-[1.5rem] bg-[#ccc] dark:bg-[#4c4c4c] hover:shadow-[0_0_10px_5px_#34adfe] border-solid border-2 border-(--white) rounded-[5px] dark:text-(--white) text-(--black) m-auto p-[3%]">Login</button> <a class="text-[1.5rem]">Or Create a new Account</a></div>',1);function ne(a,b){H(b,!1);const[E,L]=q(),O=()=>U(Q,"$page",E);let i=f(""),c=f(""),n=f(""),m="#ee2c2c",e=O().url.searchParams;e.has("msg")&&r(n,e.get("msg")??t(n)),e.has("color")&&(m=e.get("color")??m),e.has("user")&&e.has("pass")&&(r(i,e.get("user")??t(i)),r(c,e.get("pass")??t(c)),h()),D(()=>{const s=document.getElementById("msg");s&&(s.style.color=m)});async function h(){r(n,"Loading...");let s=JSON.stringify({username:t(i),password:t(c)});const u=await fetch("https://cs.catlin.edu/node/2025/blaze/auth",{method:"POST",body:s,headers:{"Content-Type":"application/json"}}),g=await u.json();if(g.correct)localStorage.setItem("sessionID",g.sessionID),console.log(u.status),u.status==209&&z("/admin"),z("/home");else{const y=document.getElementById("msg");y&&(y.style.color="#ee2c2c"),r(n,g.message)}}C();var v=V(),_=o(T(v),2),p=o(w(_),2),P=w(p,!0);$(p);var l=o(p,2);k(l);var d=o(l,2);k(d);var x=o(d,2),S=o(x,2);N(S,"href",`${G}/new`),$(_),A(()=>M(P,t(n))),I(l,()=>t(i),s=>r(i,s)),I(d,()=>t(c),s=>r(c,s)),R("click",x,h),B(a,v),J(),L()}export{ne as component};
