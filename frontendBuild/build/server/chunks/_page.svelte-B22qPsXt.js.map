{"version":3,"file":"_page.svelte-B22qPsXt.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/games/blackjack/_page.svelte.js"],"sourcesContent":["import { a as attr } from \"../../../../chunks/attributes.js\";\nimport { e as escape_html } from \"../../../../chunks/escaping.js\";\nimport { C as pop, z as push } from \"../../../../chunks/index.js\";\nfunction _page($$payload, $$props) {\n  push();\n  var balance = 1e3;\n  var bet = 50;\n  var msg = \"\";\n  var playing = false;\n  var dealer = \"Start a new game!\";\n  var player = \"Start a new game!\";\n  var dealerValue = 0;\n  var playerValue = 0;\n  var dealerCards = [];\n  var playerCards = [];\n  const suits = [\"♠\", \"♥\", \"♦\", \"♣\"];\n  const ranks = [\n    \"A\",\n    \"2\",\n    \"3\",\n    \"4\",\n    \"5\",\n    \"6\",\n    \"7\",\n    \"8\",\n    \"9\",\n    \"10\",\n    \"J\",\n    \"Q\",\n    \"K\"\n  ];\n  var cards = [];\n  function newDeck() {\n    cards = [];\n    for (const suit of suits) {\n      for (const rank of ranks) {\n        cards.push(`${rank}${suit}`);\n      }\n    }\n  }\n  function getCardValue(card) {\n    const rank = card.slice(0, card.length - 1);\n    if (rank == \"?\") return 0;\n    if (rank === \"A\") return 11;\n    if ([\"K\", \"Q\", \"J\"].includes(rank)) return 10;\n    return parseInt(rank, 10);\n  }\n  function fixAce() {\n    for (let i = 0; i < playerCards.length; i++) {\n      if (playerCards[i].startsWith(\"A\")) {\n        if (playerValue > 21) {\n          playerValue -= 10;\n        }\n      }\n    }\n    for (let i = 0; i < dealerCards.length; i++) {\n      if (dealerCards[i].startsWith(\"A\")) {\n        if (dealerValue > 21) {\n          dealerValue -= 10;\n        }\n      }\n    }\n  }\n  function start() {\n    if (playing) {\n      msg = \"You are currently playing a game!\";\n      const msgElem = document.getElementById(\"msg\");\n      if (msgElem) msgElem.style.color = \"#ee2c2c\";\n      return;\n    } else if (balance < bet) {\n      msg = \"You don't have enough money! Lower your bet to play.\";\n      const msgElem = document.getElementById(\"msg\");\n      if (msgElem) msgElem.style.color = \"#ee2c2c\";\n      return;\n    } else ;\n    playing = true;\n    msg = \"\";\n    newDeck();\n    playerCards = [];\n    dealerCards = [];\n    for (let i = 0; i < 2; i++) {\n      playerCards.push(cards.splice(Math.floor(Math.random() * cards.length), 1)[0]);\n    }\n    dealerCards.push(cards.splice(Math.floor(Math.random() * cards.length), 1)[0]);\n    dealerCards.push(\"??\");\n    calcValues();\n    calcWin();\n  }\n  function calcValues() {\n    playerValue = 0;\n    dealerValue = 0;\n    player = \"\";\n    dealer = \"\";\n    for (let i = 0; i < playerCards.length; i++) {\n      let value = getCardValue(playerCards[i]);\n      playerValue += value;\n      player += playerCards[i] + \" \";\n    }\n    for (let i = 0; i < dealerCards.length; i++) {\n      let value = getCardValue(dealerCards[i]);\n      dealerValue += value;\n      dealer += dealerCards[i] + \" \";\n    }\n    fixAce();\n  }\n  function calcWin(stand) {\n    if (playerValue > 21) lose(\"Bust\");\n    else if (playerValue == 21) win(\"Blackjack\");\n    else if (dealerValue == 21) lose(\"Dealer Blackjack\");\n    else if (playerValue == 21 && dealerValue == 21) push$1();\n    else ;\n  }\n  function win(winMsg) {\n    calcValues();\n    balance += bet * 2;\n    msg = \"You Win: \" + winMsg;\n    const msgElem = document.getElementById(\"msg\");\n    if (msgElem) msgElem.style.color = \"green\";\n    playing = false;\n    updateData();\n  }\n  function lose(loseMsg) {\n    calcValues();\n    balance -= bet;\n    msg = \"Dealer Wins: \" + loseMsg;\n    const msgElm = document.getElementById(\"msg\");\n    if (msgElm) msgElm.style.color = \"#ee2c2c\";\n    playing = false;\n    updateData();\n  }\n  function push$1() {\n    msg = \"Push: Money back\";\n    const msgElm = document.getElementById(\"msg\");\n    if (msgElm) msgElm.style.color = \"#ffb347\";\n    playing = false;\n    updateData();\n  }\n  start();\n  async function updateData() {\n    let sessionID = \"\";\n    const storedSessionID = localStorage.getItem(\"sessionID\");\n    if (storedSessionID !== null) sessionID = storedSessionID;\n    const myBody = JSON.stringify({ balance });\n    const myHeaders = { \"Content-Type\": \"application/json\", sessionID };\n    const response = await fetch(\"https://cs.catlin.edu/node/2025/blaze/updateuser\", {\n      method: \"POST\",\n      body: myBody,\n      headers: myHeaders\n    });\n    if (response.status == 403 || response.status == 401) {\n      let msg2 = await response.json();\n      window.location.href = `/?msg=${msg2.message}`;\n    }\n  }\n  $$payload.out += `<title>Slots</title> <div class=\"m-auto text-center\"><h1 class=\"text-[4rem] mb-0\">Blackjack</h1></div> <h1 class=\"text-center m-auto text-[3rem]\">Balance = $${escape_html(balance)}</h1> <h1 class=\"text-center m-auto text-[2rem]\" id=\"msg\">${escape_html(msg)}</h1> <div id=\"play-area\" class=\"bg-[#bbbbb] dark:bg-[#3c3c3c] text-center dark:rounded-[15px] w-[50%] h-fit m-auto p-[2%] grid grid-cols-2 svelte-18ku462\"><p class=\"text-[3rem] svelte-18ku462\">Player Cards</p> <p class=\"text-[3rem] svelte-18ku462\">Dealer Cards</p> <p class=\"svelte-18ku462\">${escape_html(player)}</p> <p class=\"svelte-18ku462\">${escape_html(dealer)}</p> <p class=\"svelte-18ku462\">${escape_html(playerValue)}</p> <p class=\"svelte-18ku462\">${escape_html(dealerValue)}</p></div> <div class=\"text-center text-[1.5rem] m-auto mt-[2%] bg-[#bbbb] dark:bg-[#3c3c3c] w-[50%] h-fit p-[1%] dark:rounded-[15px]\">Cards Left: ${escape_html(cards.length)} | Bet: <input type=\"number\"${attr(\"value\", bet)} class=\"w-[20%] p-[1%] m-auto text-center bg-(--black) border-2 border-solid border-(--white) dark:rounded-[5px] text-(--white) text-[1.5rem]\"/></div> <div class=\"text-center w-[50%] h-fit m-auto p-[2%] flex justify-between\"><button class=\"bg-green-500 p-[2%] w-[20%] text-(--black) dark:rounded-[5px] text-[1.5rem] hover:bg-(--black) transition duration-500 hover:text-green-500 border-2 border-solid border-green-500\">Hit</button> <button class=\"bg-yellow-500 p-[2%] w-[30%] text-(--black) dark:rounded-[5px] text-[1.5rem] hover:bg-(--black) transition duration-500 hover:text-yellow-500 border-2 border-solid border-yellow-500\">New Game</button> <button class=\"bg-red-500 p-[2%] w-[20%] text-(--black) dark:rounded-[5px] text-[1.5rem] hover:bg-(--black) transition duration-500 hover:text-red-500 border-2 border-solid border-red-500\">Stand</button></div>`;\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}