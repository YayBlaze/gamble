import{c as fe,a as T,f as K}from"../chunks/BG2KRy4J.js";import{i as me}from"../chunks/BS9pI7Zs.js";import{o as oe}from"../chunks/BbYeAV3L.js";import{h as q,p as le,s as l,aC as ve,j as ue,g as t,e as ce,k as te,r as x,l as y,o as p,m as _}from"../chunks/B0tbfRsH.js";import{s as R}from"../chunks/DbJNr2wh.js";import{p as d,i as J}from"../chunks/ips2rHU3.js";import{r as he}from"../chunks/Dzbvo1C5.js";import{e as ge}from"../chunks/Yti7r5nh.js";import{b as ye}from"../chunks/CSFYOLka.js";import{e as xe,i as be}from"../chunks/CL0ni-bN.js";import{m as ie}from"../chunks/FuyYsi7F.js";const re=[...` 	
\r\fÂ \v\uFEFF`];function pe(n,a,o){var s=""+n;if(o){for(var i in o)if(o[i])s=s?s+" "+i:i;else if(s.length)for(var r=i.length,u=0;(u=s.indexOf(i,u))>=0;){var c=u+r;(u===0||re.includes(s[u-1]))&&(c===s.length||re.includes(s[c]))?s=(u===0?"":s.substring(0,u))+s.substring(c+1):u=c}}return s===""?null:s}function we(n,a){return n==null?null:String(n)}function _e(n,a,o,s,i,r){var u=n.__className;if(q||u!==o||u===void 0){var c=pe(o,s,r);(!q||c!==n.getAttribute("class"))&&(c==null?n.removeAttribute("class"):n.className=c),n.__className=o}else if(r&&i!==r)for(var v in r){var g=!!r[v];(i==null||g!==!!i[v])&&n.classList.toggle(v,g)}return r}function ne(n,a,o,s){var i=n.__style;if(q||i!==a){var r=we(a);(!q||r!==n.getAttribute("style"))&&(r==null?n.removeAttribute("style"):n.style.cssText=r),n.__style=a}return s}var Me=K('<div class="confetti svelte-15ksp55"></div>'),De=K("<div></div>");function ee(n,a){le(a,!0);const o=d(a,"size",3,10),s=d(a,"x",19,()=>[-.5,.5]),i=d(a,"y",19,()=>[.25,1]),r=d(a,"duration",3,2e3),u=d(a,"infinite",3,!1),c=d(a,"delay",19,()=>[0,50]),v=d(a,"colorRange",19,()=>[0,360]),g=d(a,"colorArray",19,()=>[]),j=d(a,"amount",3,50),z=d(a,"iterationCount",3,1),Q=d(a,"fallDistance",3,"100px"),U=d(a,"rounded",3,!1),V=d(a,"cone",3,!1),N=d(a,"noGravity",3,!1),Y=d(a,"xSpread",3,.15),W=d(a,"destroyOnComplete",3,!0),I=d(a,"disableForReducedMotion",3,!1);let C=ve(!1);oe(()=>{!W()||u()||typeof z()=="string"||setTimeout(()=>l(C,!0),(r()+c()[1])*z())});function h(w,b){return Math.random()*(b-w)+w}function A(){return g().length?g()[Math.round(Math.random()*(g().length-1))]:`hsl(${Math.round(h(v()[0],v()[1]))}, 75%, 50%)`}var M=fe(),X=ue(M);{var k=w=>{var b=De();let P;xe(b,21,()=>({length:j()}),be,(B,ae)=>{var D=Me();te((Z,O,F,G,H,L,$,e,f,m,E)=>ne(D,`
        --color: ${Z??""};
        --skew: ${O??""}deg,${F??""}deg;
        --rotation-xyz: ${G??""}, ${H??""}, ${L??""};
        --rotation-deg: ${$??""}deg;
        --translate-y-multiplier: ${e??""};
        --translate-x-multiplier: ${f??""};
        --scale: ${m??""};
        --transition-delay: ${E??""}ms;
        --transition-duration: ${u()?`calc(${r()}ms * var(--scale))`:`${r()}ms`};`),[A,()=>h(-45,45),()=>h(-45,45),()=>h(-10,10),()=>h(-10,10),()=>h(-10,10),()=>h(0,360),()=>h(i()[0],i()[1]),()=>h(s()[0],s()[1]),()=>.1*h(2,10),()=>h(c()[0],c()[1])]),T(B,D)}),x(b),te(B=>{P=_e(b,1,"confetti-holder svelte-15ksp55",null,P,B),ne(b,`
    --fall-distance: ${Q()??""};
    --size: ${o()??""}px;
    --x-spread: ${1-Y()};
    --transition-iteration-count: ${(u()?"infinite":z())??""};`)},[()=>({rounded:U(),cone:V(),"no-gravity":N(),"reduced-motion":I()})]),T(w,b)};J(X,w=>{t(C)||w(k)})}T(n,M),ce()}var Se=K(`<div style="
 position: fixed;
 top: -50px;
 left: 0;
 height: 100vh;
 width: 100vw;
 display: flex;
 justify-content: center;
 overflow: hidden;
 pointer-events: none;"><!></div>`),je=K('<title>Slots</title> <!> <div id="title" class="m-auto text-center"><h1 class="text-[4rem] mb-0">Slot Machine</h1></div> <div class="m-auto w-[50%] h-fit flex flex-row justify-between"><!> <div id="machine" class="dark:rounded-[15px] m-auto bg-[#3c3c3c] w-[100%] h-fit p-[2%] flex flex-row justify-between"><div class="box svelte-yr5s2h"> </div> <div class="box svelte-yr5s2h"> </div> <div class="box svelte-yr5s2h"> </div></div> <!></div> <h1 id="message" class="text-center m-auto text-[2rem] h-[3rem]"> </h1> <div id="spindiv" class="w-[50%] h-fit m-auto text-center flex flex-col"><button aria-label="Spin Button" class="m-auto size-[7rem] bg-red-500 transition duration-500 hover:bg-green-500 dark:rounded-full border-0"></button> <span class="flex flex-row justify-center text-center w-[50%] m-auto"><p class="text-[2rem] m-2">Spin Price:</p> <input type="number" class="w-[25%] p-[1%] m-auto text-center bg-(--black) border-2 border-solid border-(--white) dark:rounded-[5px] text-(--white) text-[1.5rem]"/></span></div> <h1 id="balance" class="text-center m-auto text-[3rem]"> </h1>',1);function Pe(n,a){le(a,!1);let o=_(0),s=_(""),i=_(20),r=_(!1),u=_(!1),c=_(9),v=_(9),g=_(9),j=!1;const z=e=>new Promise(f=>setTimeout(f,e));async function Q(){if(j==!0)return;let e=document.getElementById("message");if(t(i)<5){l(s,"You must bet at least $5!"),e&&(e.style.color="#ee2c2c"),l(i,5);return}if(j=!0,l(u,!1),l(r,!1),l(s,""),t(o)<t(i))l(s,"You don't have enough money! Lower your bet to play."),e&&(e.style.color="#ee2c2c");else{let f=0;for(let m=0;m<20;m++)await z(f),f+=5,l(c,Math.floor(Math.random()*10)),l(v,Math.floor(Math.random()*10)),l(g,Math.floor(Math.random()*10));t(c)==t(v)&&t(v)==t(g)?(l(o,t(o)+t(i)*5),l(s,"You won $"+t(i)*5+"!"),l(u,!0),l(r,!0),e&&(e.style.color="green")):t(c)==t(v)||t(v)==t(g)||t(c)==t(g)?(l(o,t(o)+t(i)*1.5),l(s,"You won $"+t(i)*1.5+"!"),l(r,!0),e&&(e.style.color="green")):l(o,t(o)-t(i))}j=!1,V()}async function U(){let e="";const f=localStorage.getItem("sessionID");f!==null&&(e=f);const m=await fetch("https://cs.catlin.edu/node/2025/blaze/user",{headers:{sessionID:e}});(m.status==403||m.status==401)&&await m.json(),m.status!=200&&console.log(m.text());const E=await m.json();l(o,E.balance)}async function V(){let e="";const f=localStorage.getItem("sessionID");f!==null&&(e=f);const m=JSON.stringify({balance:t(o)}),S=await fetch("https://cs.catlin.edu/node/2025/blaze/updateuser",{method:"POST",body:m,headers:{"Content-Type":"application/json",sessionID:e}});if(S.status==403||S.status==401){let de=await S.json();ie(`/?msg=${de.message}`)}const se=await S.json();(S.status==403||S.status==401)&&ie(`/?msg=${se.message}`),console.log(se.message)}oe(()=>{U()}),me();var N=je(),Y=y(ue(N),2);{var W=e=>{var f=Se(),m=p(f);ee(m,{x:[-5,5],y:[0,.1],delay:[0,3e3],duration:2500,amount:700,size:25,fallDistance:"100vh"}),x(f),T(e,f)};J(Y,e=>{t(u)&&e(W)})}var I=y(Y,4),C=p(I);{var h=e=>{ee(e,{cone:!0,x:[-1,-2.5],y:[.25,.75],amount:100,size:20,delay:[0,1500],fallDistance:"100px"})};J(C,e=>{t(r)&&e(h)})}var A=y(C,2),M=p(A),X=p(M,!0);x(M);var k=y(M,2),w=p(k,!0);x(k);var b=y(k,2),P=p(b,!0);x(b),x(A);var B=y(A,2);{var ae=e=>{ee(e,{cone:!0,x:[1,2.5],y:[.25,.75],amount:100,size:20,delay:[0,1500],fallDistance:"100px"})};J(B,e=>{t(r)&&e(ae)})}x(I);var D=y(I,2),Z=p(D,!0);x(D);var O=y(D,2),F=p(O),G=y(F,2),H=y(p(G),2);he(H),x(G),x(O);var L=y(O,2),$=p(L);x(L),te(()=>{R(X,t(c)),R(w,t(v)),R(P,t(g)),R(Z,t(s)),R($,`Balance = $${t(o)??""}`)}),ge("click",F,Q),ye(H,()=>t(i),e=>l(i,e)),T(n,N),ce()}export{Pe as component};
