import{c as de,a as N,f as K}from"../chunks/Sor4jvVG.js";import"../chunks/B43jTLGB.js";import{o as oe}from"../chunks/nXpV3QGw.js";import{h as q,p as re,s as l,aA as fe,f as le,g as t,j as ue,i as te,r as x,k as y,l as p,m as M}from"../chunks/DaofkxM2.js";import{s as T}from"../chunks/_BXhOvpT.js";import{p as d,i as J}from"../chunks/x5xRXhiO.js";import{b as me,r as ve}from"../chunks/B9kjLJBa.js";import{e as he}from"../chunks/C5IreSFR.js";import{i as ge}from"../chunks/BRYU3mTP.js";import{e as ye,i as xe}from"../chunks/Bmp1HgW0.js";const ie=[...` 	
\r\fÂ \v\uFEFF`];function be(o,a,r){var s=""+o;if(r){for(var i in r)if(r[i])s=s?s+" "+i:i;else if(s.length)for(var n=i.length,u=0;(u=s.indexOf(i,u))>=0;){var c=u+n;(u===0||ie.includes(s[u-1]))&&(c===s.length||ie.includes(s[c]))?s=(u===0?"":s.substring(0,u))+s.substring(c+1):u=c}}return s===""?null:s}function pe(o,a){return o==null?null:String(o)}function we(o,a,r,s,i,n){var u=o.__className;if(q||u!==r||u===void 0){var c=be(r,s,n);(!q||c!==o.getAttribute("class"))&&(c==null?o.removeAttribute("class"):o.className=c),o.__className=r}else if(n&&i!==n)for(var v in n){var g=!!n[v];(i==null||g!==!!i[v])&&o.classList.toggle(v,g)}return n}function ne(o,a,r,s){var i=o.__style;if(q||i!==a){var n=pe(a);(!q||n!==o.getAttribute("style"))&&(n==null?o.removeAttribute("style"):o.style.cssText=n),o.__style=a}return s}var _e=K('<div class="confetti svelte-15ksp55"></div>'),Me=K("<div></div>");function ee(o,a){re(a,!0);const r=d(a,"size",3,10),s=d(a,"x",19,()=>[-.5,.5]),i=d(a,"y",19,()=>[.25,1]),n=d(a,"duration",3,2e3),u=d(a,"infinite",3,!1),c=d(a,"delay",19,()=>[0,50]),v=d(a,"colorRange",19,()=>[0,360]),g=d(a,"colorArray",19,()=>[]),j=d(a,"amount",3,50),z=d(a,"iterationCount",3,1),Q=d(a,"fallDistance",3,"100px"),U=d(a,"rounded",3,!1),V=d(a,"cone",3,!1),R=d(a,"noGravity",3,!1),Y=d(a,"xSpread",3,.15),W=d(a,"destroyOnComplete",3,!0),I=d(a,"disableForReducedMotion",3,!1);let A=fe(!1);oe(()=>{!W()||u()||typeof z()=="string"||setTimeout(()=>l(A,!0),(n()+c()[1])*z())});function h(w,b){return Math.random()*(b-w)+w}function C(){return g().length?g()[Math.round(Math.random()*(g().length-1))]:`hsl(${Math.round(h(v()[0],v()[1]))}, 75%, 50%)`}var D=de(),X=le(D);{var k=w=>{var b=Me();let P;ye(b,21,()=>({length:j()}),xe,(B,ae)=>{var S=_e();te((Z,O,F,G,H,L,$,e,f,m,E)=>ne(S,`
        --color: ${Z??""};
        --skew: ${O??""}deg,${F??""}deg;
        --rotation-xyz: ${G??""}, ${H??""}, ${L??""};
        --rotation-deg: ${$??""}deg;
        --translate-y-multiplier: ${e??""};
        --translate-x-multiplier: ${f??""};
        --scale: ${m??""};
        --transition-delay: ${E??""}ms;
        --transition-duration: ${u()?`calc(${n()}ms * var(--scale))`:`${n()}ms`};`),[C,()=>h(-45,45),()=>h(-45,45),()=>h(-10,10),()=>h(-10,10),()=>h(-10,10),()=>h(0,360),()=>h(i()[0],i()[1]),()=>h(s()[0],s()[1]),()=>.1*h(2,10),()=>h(c()[0],c()[1])]),N(B,S)}),x(b),te(B=>{P=we(b,1,"confetti-holder svelte-15ksp55",null,P,B),ne(b,`
    --fall-distance: ${Q()??""};
    --size: ${r()??""}px;
    --x-spread: ${1-Y()};
    --transition-iteration-count: ${(u()?"infinite":z())??""};`)},[()=>({rounded:U(),cone:V(),"no-gravity":R(),"reduced-motion":I()})]),N(w,b)};J(X,w=>{t(A)||w(k)})}N(o,D),ue()}var De=K(`<div style="
 position: fixed;
 top: -50px;
 left: 0;
 height: 100vh;
 width: 100vw;
 display: flex;
 justify-content: center;
 overflow: hidden;
 pointer-events: none;"><!></div>`),Se=K('<title>Slots</title> <!> <div id="title" class="m-auto text-center"><h1 class="text-[4rem] mb-0">Slot Machine</h1></div> <div class="m-auto w-[50%] h-fit flex flex-row justify-between"><!> <div id="machine" class="dark:rounded-[15px] m-auto bg-[#3c3c3c] w-[100%] h-fit p-[2%] flex flex-row justify-between"><div class="box svelte-yr5s2h"> </div> <div class="box svelte-yr5s2h"> </div> <div class="box svelte-yr5s2h"> </div></div> <!></div> <h1 id="message" class="text-center m-auto text-[2rem] h-[3rem]"> </h1> <div id="spindiv" class="w-[50%] h-fit m-auto text-center flex flex-col"><button aria-label="Spin Button" class="m-auto size-[7rem] bg-red-500 transition duration-500 hover:bg-green-500 dark:rounded-full border-0"></button> <span class="flex flex-row justify-center text-center w-[50%] m-auto"><p class="text-[2rem] m-2">Spin Price:</p> <input type="number" class="w-[25%] p-[1%] m-auto text-center bg-(--black) border-2 border-solid border-(--white) dark:rounded-[5px] text-(--white) text-[1.5rem]"/></span></div> <h1 id="balance" class="text-center m-auto text-[3rem]"> </h1>',1);function Re(o,a){re(a,!1);let r=M(0),s=M(""),i=M(20),n=M(!1),u=M(!1),c=M(9),v=M(9),g=M(9),j=!1;const z=e=>new Promise(f=>setTimeout(f,e));async function Q(){if(j==!0)return;let e=document.getElementById("message");if(t(i)<5){l(s,"You must bet at least $5!"),e&&(e.style.color="#ee2c2c"),l(i,5);return}if(j=!0,l(u,!1),l(n,!1),l(s,""),t(r)<t(i))l(s,"You don't have enough money! Lower your bet to play."),e&&(e.style.color="#ee2c2c");else{let f=0;for(let m=0;m<20;m++)await z(f),f+=5,l(c,Math.floor(Math.random()*10)),l(v,Math.floor(Math.random()*10)),l(g,Math.floor(Math.random()*10));t(c)==t(v)&&t(v)==t(g)?(l(r,t(r)+t(i)*5),l(s,"You won $"+t(i)*5+"!"),l(u,!0),l(n,!0),e&&(e.style.color="green")):t(c)==t(v)||t(v)==t(g)||t(c)==t(g)?(l(r,t(r)+t(i)*1.5),l(s,"You won $"+t(i)*1.5+"!"),l(n,!0),e&&(e.style.color="green")):l(r,t(r)-t(i))}j=!1,V()}async function U(){let e="";const f=localStorage.getItem("sessionID");f!==null&&(e=f);const m=await fetch("https://cs.catlin.edu/node/2025/blaze/user",{headers:{sessionID:e}});if(m.status==403||m.status==401){let _=await m.json();window.location.href=`/?msg=${_.message}`}m.status!=200&&console.log(m.text());const E=await m.json();l(r,E.balance)}async function V(){let e="";const f=localStorage.getItem("sessionID");f!==null&&(e=f);const m=JSON.stringify({balance:t(r)}),_=await fetch("https://cs.catlin.edu/node/2025/blaze/updateuser",{method:"POST",body:m,headers:{"Content-Type":"application/json",sessionID:e}});if(_.status==403||_.status==401){let ce=await _.json();window.location.href=`/?msg=${ce.message}`}const se=await _.json();(_.status==403||_.status==401)&&(window.location.href=`/?msg=${se.message}`),console.log(se.message)}oe(()=>{U()}),ge();var R=Se(),Y=y(le(R),2);{var W=e=>{var f=De(),m=p(f);ee(m,{x:[-5,5],y:[0,.1],delay:[0,3e3],duration:2500,amount:700,size:25,fallDistance:"100vh"}),x(f),N(e,f)};J(Y,e=>{t(u)&&e(W)})}var I=y(Y,4),A=p(I);{var h=e=>{ee(e,{cone:!0,x:[-1,-2.5],y:[.25,.75],amount:100,size:20,delay:[0,1500],fallDistance:"100px"})};J(A,e=>{t(n)&&e(h)})}var C=y(A,2),D=p(C),X=p(D,!0);x(D);var k=y(D,2),w=p(k,!0);x(k);var b=y(k,2),P=p(b,!0);x(b),x(C);var B=y(C,2);{var ae=e=>{ee(e,{cone:!0,x:[1,2.5],y:[.25,.75],amount:100,size:20,delay:[0,1500],fallDistance:"100px"})};J(B,e=>{t(n)&&e(ae)})}x(I);var S=y(I,2),Z=p(S,!0);x(S);var O=y(S,2),F=p(O),G=y(F,2),H=y(p(G),2);ve(H),x(G),x(O);var L=y(O,2),$=p(L);x(L),te(()=>{T(X,t(c)),T(w,t(v)),T(P,t(g)),T(Z,t(s)),T($,`Balance = $${t(r)??""}`)}),he("click",F,Q),me(H,()=>t(i),e=>l(i,e)),N(o,R),ue()}export{Re as component};
