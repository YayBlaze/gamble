import{f as S,a as C}from"../chunks/BG2KRy4J.js";import{i as D}from"../chunks/BS9pI7Zs.js";import{o as E}from"../chunks/BbYeAV3L.js";import{p as H,s as r,g as t,l as a,j as T,k as A,e as B,m as b,o as x,r as y}from"../chunks/B0tbfRsH.js";import{s as J}from"../chunks/DbJNr2wh.js";import{s as M,r as w}from"../chunks/Dzbvo1C5.js";import{e as N}from"../chunks/Yti7r5nh.js";import{b as k}from"../chunks/CSFYOLka.js";import{s as R,a as U}from"../chunks/DmofaD8A.js";import{s as q}from"../chunks/OI4Mk2Fh.js";import{u as F,m as $}from"../chunks/w2IH8YCb.js";const G=()=>{const s=q;return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},updated:s.updated}},K={subscribe(s){return G().page.subscribe(s)}};var Q=S('<title>Login</title> <div id="bigdiv" class="m-auto mt-[10%] bg-[#bbb] dark:bg-[#3c3c3c] shadow-[0_0_50px_15px_#34adfe] dark:rounded-[10%] size-fit p-[5%] text-center flex flex-col gap-5"><h1 class="text-[3rem] m-0">Login</h1> <p class="text-[1.5rem]" id="msg"> </p> <input type="text" placeholder="Username" class="svelte-hzmrex"/> <input type="password" placeholder="Password" class="svelte-hzmrex"/> <button id="submit" class="text-[1.5rem] bg-[#ccc] dark:bg-[#4c4c4c] hover:shadow-[0_0_10px_5px_#34adfe] border-solid border-2 border-(--white) dark:rounded-[5px] dark:text-(--white) text-(--black) m-auto p-[3%]">Login</button> <a class="text-[1.5rem]">Or Create a new Account</a></div>',1);function ne(s,f){H(f,!1);const[j,z]=U(),I=()=>R(K,"$page",j);let n=b(""),c=b(""),o=b(""),m="#ee2c2c",i=I().url.searchParams;i.has("msg")&&r(o,i.get("msg")??t(o)),i.has("color")&&(m=i.get("color")??m),E(()=>{const e=document.getElementById("msg");e&&(e.style.color=m)});async function L(){r(o,"Loading...");let e=JSON.stringify({username:t(n),password:t(c)});const g=await fetch("https://cs.catlin.edu/node/2025/blaze/auth",{method:"POST",body:e,headers:{"Content-Type":"application/json"}});console.log("got response");const u=await g.json();console.log("got json"),u.correct?(localStorage.setItem("sessionID",u.sessionID),console.log(g.status),g.status==209&&$("/admin"),$("/home")):r(o,u.message)}D();var h=Q(),v=a(T(h),2),l=a(x(v),2),O=x(l,!0);y(l);var p=a(l,2);w(p);var d=a(p,2);w(d);var _=a(d,2),P=a(_,2);M(P,"href",`${F}/new`),y(v),A(()=>J(O,t(o))),k(p,()=>t(n),e=>r(n,e)),k(d,()=>t(c),e=>r(c,e)),N("click",_,L),C(s,h),B(),z()}export{ne as component};
