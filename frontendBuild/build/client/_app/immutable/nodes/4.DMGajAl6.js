import{f as m,a as p}from"../chunks/CMSUbqet.js";import{i as k}from"../chunks/B95i4mGz.js";import{o as A}from"../chunks/DdWudD2G.js";import{p as E,s as n,f as J,e as M,g as r,i,m as N,r as o,j as O,t as b}from"../chunks/B4Cajtny.js";import{s as _}from"../chunks/h_Xj-A1A.js";import{e as w,i as D}from"../chunks/C6-Cy7F4.js";import{m as I}from"../chunks/FuyYsi7F.js";var R=m("<p> </p>"),q=m("<p> </p>"),B=m('<title>Admin Dashboard</title> <h1 class="text-[3rem] text-center"><strong>Admin Dashboard</strong></h1> <div class="bg-(--grey) w-[75%] h-fit m-auto rounded-[15px] grid grid-auto p-[2%]"><div class="m-auto size-fit p-[2%]] flex flex-col text-center text-[1.5rem]"><p class="text-[3rem]">Leaderboard</p> <!></div> <div><p class="text-[3rem] text-center mt-[2%]">Logs</p> <div id="logbox" class="bg-(--black) p-[2%] m-auto rounded-[15px] text-center"></div></div></div>',1);function T(L,S){E(S,!1);var l=["Logs will appear here!"];function $(){new EventSource("https://cs.catlin.edu/node/2025/blaze/logs").addEventListener("newLogs",j),console.log("added event listener")}function j(s){let t=JSON.parse(s.data);for(let e=0;e<t.length;e++)l.push(t[e]);console.log(l)}async function y(){let s="";const t=localStorage.getItem("sessionID");t!==null&&(s=t);let e=await fetch("https://cs.catlin.edu/node/2025/blaze/check",{headers:{sessionID:s}});if(e.status==403){let a=await e.json();console.log(a),I(`/?msg=${a.message}`)}}let g=N([]);async function f(){let s="";const t=localStorage.getItem("sessionID");t!==null&&(s=t);const e=await fetch("https://cs.catlin.edu/node/2025/blaze/baltop",{headers:{sessionID:s}});if(e.status==403||e.status==401){let c=await e.json();I(`/?msg=${c.message}`)}e.status!=200&&console.log(await e.text);const a=await e.json();O(g,a)}A(()=>{y(),f(),$(),setInterval(f,3e3)}),k();var v=B(),u=n(J(v),4),d=r(u),z=n(r(d),2);w(z,1,()=>i(g),D,(s,t,e)=>{var a=R(),c=r(a);o(a),b(()=>_(c,`${e+1}) ${i(t).username??""} = $${i(t).balance??""}`)),p(s,a)}),o(d);var h=n(d,2),x=n(r(h),2);w(x,5,()=>l,D,(s,t)=>{var e=q(),a=r(e,!0);o(e),b(()=>_(a,i(t))),p(s,e)}),o(x),o(h),o(u),p(L,v),M()}export{T as component};
