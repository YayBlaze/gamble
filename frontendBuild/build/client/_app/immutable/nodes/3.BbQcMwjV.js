import{f as S,a as C}from"../chunks/BG2KRy4J.js";import{i as D}from"../chunks/BS9pI7Zs.js";import{o as E}from"../chunks/BbYeAV3L.js";import{p as H,s as o,g as t,l as r,j as T,k as A,e as B,m as b,o as y,r as w}from"../chunks/B0tbfRsH.js";import{s as J}from"../chunks/DbJNr2wh.js";import{s as M,r as k}from"../chunks/Dzbvo1C5.js";import{e as N}from"../chunks/Yti7r5nh.js";import{b as $}from"../chunks/CSFYOLka.js";import{s as R,a as U}from"../chunks/DmofaD8A.js";import{s as q}from"../chunks/4kaqY-QF.js";import{m as j,u as F}from"../chunks/w2IH8YCb.js";const G=()=>{const a=q;return{page:{subscribe:a.page.subscribe},navigating:{subscribe:a.navigating.subscribe},updated:a.updated}},K={subscribe(a){return G().page.subscribe(a)}};var Q=S('<title>Login</title> <div id="bigdiv" class="m-auto mt-[10%] bg-[#bbb] dark:bg-[#3c3c3c] shadow-[0_0_50px_15px_#34adfe] dark:rounded-[10%] size-fit p-[5%] text-center flex flex-col gap-5"><h1 class="text-[3rem] m-0">Login</h1> <p class="text-[1.5rem]" id="msg"> </p> <input type="text" placeholder="Username" class="svelte-hzmrex"/> <input type="password" placeholder="Password" class="svelte-hzmrex"/> <button id="submit" class="text-[1.5rem] bg-[#ccc] dark:bg-[#4c4c4c] hover:shadow-[0_0_10px_5px_#34adfe] border-solid border-2 border-(--white) dark:rounded-[5px] dark:text-(--white) text-(--black) m-auto p-[3%]">Login</button> <a class="text-[1.5rem]">Or Create a new Account</a></div>',1);function ne(a,f){H(f,!1);const[z,I]=U(),L=()=>R(K,"$page",z);let i=b(""),n=b(""),c=b(""),m="#ee2c2c",e=L().url.searchParams;e.has("msg")&&o(c,e.get("msg")??t(c)),e.has("color")&&(m=e.get("color")??m),e.has("user")&&e.has("pass")&&(o(i,e.get("user")??t(i)),o(n,e.get("pass")??t(n)),h()),E(()=>{const s=document.getElementById("msg");s&&(s.style.color=m)});async function h(){o(c,"Loading...");let s=JSON.stringify({username:t(i),password:t(n)});const g=await fetch("https://cs.catlin.edu/node/2025/blaze/auth",{method:"POST",body:s,headers:{"Content-Type":"application/json"}});console.log("got response");const u=await g.json();console.log("got json"),u.correct?(localStorage.setItem("sessionID",u.sessionID),console.log(g.status),g.status==209&&j("/admin"),j("/home")):o(c,u.message)}D();var v=Q(),_=r(T(v),2),p=r(y(_),2),O=y(p,!0);w(p);var l=r(p,2);k(l);var d=r(l,2);k(d);var x=r(d,2),P=r(x,2);M(P,"href",`${F}/new`),w(_),A(()=>J(O,t(c))),$(l,()=>t(i),s=>o(i,s)),$(d,()=>t(n),s=>o(n,s)),N("click",x,h),C(a,v),B(),I()}export{ne as component};
