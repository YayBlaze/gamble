{"version":3,"file":"_page.svelte-CQUyXvAX.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_page.svelte.js"],"sourcesContent":["import { D as getContext, I as store_get, J as unsubscribe_stores, B as pop, z as push, G as stringify } from \"../../chunks/index2.js\";\nimport \"@sveltejs/kit/internal\";\nimport \"../../chunks/exports.js\";\nimport \"../../chunks/utils.js\";\nimport \"clsx\";\nimport \"../../chunks/state.svelte.js\";\nimport { b as backendUrl, m as myRedirect, u as urlOrigin } from \"../../chunks/index3.js\";\nimport { e as escape_html } from \"../../chunks/escaping.js\";\nimport { a as attr } from \"../../chunks/attributes.js\";\nconst getStores = () => {\n  const stores$1 = getContext(\"__svelte__\");\n  return {\n    /** @type {typeof page} */\n    page: {\n      subscribe: stores$1.page.subscribe\n    },\n    /** @type {typeof navigating} */\n    navigating: {\n      subscribe: stores$1.navigating.subscribe\n    },\n    /** @type {typeof updated} */\n    updated: stores$1.updated\n  };\n};\nconst page = {\n  subscribe(fn) {\n    const store = getStores().page;\n    return store.subscribe(fn);\n  }\n};\nfunction _page($$payload, $$props) {\n  push();\n  var $$store_subs;\n  let user = \"\";\n  let password = \"\";\n  let msg = \"\";\n  let color = \"#ee2c2c\";\n  let searchParams = store_get($$store_subs ??= {}, \"$page\", page).url.searchParams;\n  if (searchParams.has(\"msg\")) {\n    msg = searchParams.get(\"msg\") ?? msg;\n  }\n  if (searchParams.has(\"color\")) {\n    color = searchParams.get(\"color\") ?? color;\n  }\n  if (searchParams.has(\"user\") && searchParams.has(\"pass\")) {\n    user = searchParams.get(\"user\") ?? user;\n    password = searchParams.get(\"pass\") ?? password;\n    login();\n  }\n  async function login() {\n    msg = \"Loading...\";\n    let mybody = JSON.stringify({ username: user, password });\n    let myHeaders = { \"Content-Type\": \"application/json\" };\n    const response = await fetch(backendUrl + \"/auth\", { method: \"POST\", body: mybody, headers: myHeaders });\n    const data = await response.json();\n    if (!response.ok) {\n      const msgElm = document.getElementById(\"msg\");\n      if (msgElm) msgElm.style.color = \"#ee2c2c\";\n      msg = \"Error! Please yell at me to fix\";\n    }\n    if (data[\"correct\"]) {\n      localStorage.setItem(\"sessionID\", data[\"sessionID\"]);\n      console.log(response.status);\n      if (response.status == 209) myRedirect(\"/admin\");\n      myRedirect(\"/home\");\n    } else {\n      const msgElm = document.getElementById(\"msg\");\n      if (msgElm) msgElm.style.color = \"#ee2c2c\";\n      msg = data[\"message\"];\n    }\n  }\n  $$payload.out.push(`<title>Login</title> <div id=\"bigdiv\" class=\"m-auto mt-[10%] bg-[#bbb] dark:bg-[#3c3c3c] shadow-[0_0_50px_15px_#34adfe] rounded-[10%] size-fit p-[5%] text-center flex flex-col gap-5\"><h1 class=\"text-[3rem] m-0\">Login</h1> <p class=\"text-[1.5rem]\" id=\"msg\">${escape_html(msg)}</p> <input type=\"text\"${attr(\"value\", user)} placeholder=\"Username\" class=\"svelte-hzmrex\"/> <input type=\"password\"${attr(\"value\", password)} placeholder=\"Password\" class=\"svelte-hzmrex\"/> <button id=\"submit\" class=\"text-[1.5rem] bg-[#ccc] dark:bg-[#4c4c4c] hover:shadow-[0_0_10px_5px_#34adfe] border-solid border-2 border-(--white) rounded-[5px] dark:text-(--white) text-(--black) m-auto p-[3%]\">Login</button> <a${attr(\"href\", `${stringify(urlOrigin)}/new`)} class=\"text-[1.5rem]\">Or Create a new Account</a></div> <h1 class=\"text-center mt-[5%] text-[1.5rem]\">Welcome to my site! <br/>Please create an account of your're new.</h1>`);\n  if ($$store_subs) unsubscribe_stores($$store_subs);\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}